var nativeSmoothScrollTo=function(e){window.scroll({behavior:"smooth",left:0,top:e.getBoundingClientRect().top+window.pageYOffset})},smoothScrollTo=function(e,t){var c=document.scrollingElement||document.documentElement,o=c.scrollTop,n=e-o,r=+new Date,s=function(i){i=+new Date-r;var a=parseInt,l=i/(t/2);1>l?l=n/2*l*l+o:(l--,l=-n/2*(l*(l-2)-1)+o),c.scrollTop=a(l),i<t?requestAnimationFrame(s):c.scrollTop=e};s()},supportsNativeSmoothScroll="scrollBehavior"in document.documentElement.style,scrollToElem=function(e){e&&(e=document.querySelector(e))&&(supportsNativeSmoothScroll?nativeSmoothScrollTo(e):smoothScrollTo(e.offsetTop,600))};document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".feedback__btn");document.getElementById("form");function t(e){e.classList.add("__error")}function c(e){e.classList.remove("__error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("click",(function(e){if(function(){let e=0,n=document.querySelectorAll(".__req");for(let r=0;r<n.length;r++){const s=n[r];c(s),s.classList.contains("__email")?o(s)&&(t(s),e++):0==s.checked&&(t(s),e++)}return e}())return alert("Пожалуйста заполните поле Email и укажите согласие на подписку"),console.log("Отправка формы остановлена");alert("Спасибо. Ваша подписка оформлена")})),function(){let e=document.querySelectorAll(".feedback__chb");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){this.classList.toggle("feedback__chb--active")}))}();const n="scrollBehavior"in document.documentElement.style;var r=document.querySelector(".main__arrowtop");function s(){this.classList.add("_transparent")}function i(){this.classList.remove("_transparent")}function a(){.105*document.documentElement.clientWidth>window.pageYOffset?r.hider():r.shower()}!function(e){e.hider=s,e.shower=i}(r),a(),window.addEventListener("scroll",a),r.addEventListener("click",(function(){n?window.pageYOffset&&window.scrollTo({top:0,behavior:"smooth"}):window.pageYOffset&&scrollToElem("#header")}));let l=document.querySelector(".header__nav");document.querySelector("body");function d(){this.classList.contains("card__widg-like-wrap--active")?(this.classList.remove("card__widg-like-wrap--active"),this.querySelector(".card__favorite").href="#close"):(this.classList.add("card__widg-like-wrap--active"),this.querySelector(".card__favorite").href="#openModal")}document.querySelector(".__burger").addEventListener("click",(function(){window.matchMedia("(max-width: 800px)").matches&&(l.classList.contains("__active")?(l.classList.remove("__active"),document.body.style.overflow="visible"):(l.classList.add("__active"),document.body.style.overflow="hidden"))})),function(e){for(let t=0;t<e.length;t++)e[t].addEventListener("click",d)}(document.querySelectorAll(".card__widg-like-wrap"));let u=document.querySelector(".cards__show-block"),m=document.querySelector(".cards__card-box"),_=m.getElementsByClassName("card--hide");const f=u.dataset.n;if(_.length<6)for(let e=0;e<_.length;e++)_[0].classList.add("card--active"),_[0].classList.remove("card--hide");else for(let e=0;e<6;e++)_[0].classList.add("card--active"),_[0].classList.remove("card--hide");u.addEventListener("click",(function(){!function(e){if(e.length<f){for(let t=0;t<e.length;t++)e[0].classList.add("card--active"),e[0].classList.remove("card--hide");0==e.length&&u.classList.add("_hide")}else{for(let t=0;t<f;t++)e[0].classList.add("card--active"),e[0].classList.remove("card--hide");0==e.length&&u.classList.add("_hide")}}(_),null!=document.querySelector(".sort__item--active")&&(document.querySelector(".sort__item--active").classList.contains("sort__age")?q(L,w,g):document.querySelector(".sort__item--active").classList.contains("sort__price")&&b(L,w,g))}));let h=m.getElementsByClassName("card__widg-sale");for(let e=0;e<h.length;e++)""==h[e].dataset.percent&&h[e].classList.add("_transparent");let v=m.getElementsByClassName("card__btn");for(let e=0;e<v.length;e++)"Продан"==v[e].dataset.btn?v[e].classList.add("card__btn--bought"):v[e].classList.add("card__btn--buy");let g=document.getElementsByClassName("card--active"),L=document.getElementById("cards__card-box"),w=document.getElementById("cards__card-box").children;const p=document.querySelector(".sort__price"),y=document.querySelector(".sort__age");function S(e){for(let t=0;t<e.length;t++)e[t].cPrice=1*e[t].querySelector(".card__price").dataset.price.replace(" ","")}function E(e){for(let t=0;t<e.length;t++)e[t].cAge=1*e[t].querySelector(".card__age").dataset.itemD}function b(e,t,c){S(c),[].slice.call(t).sort((function(e,t){return e.cPrice<t.cPrice?-1:e.cPrice>t.cPrice?1:0})).forEach((function(t,c){e.appendChild(t)}))}function q(e,t,c){E(c),[].slice.call(t).sort((function(e,t){return e.cAge<t.cAge?-1:e.cAge>t.cAge?1:0})).forEach((function(t,c){e.appendChild(t)}))}S(g),E(g),p.addEventListener("click",(function(){b(L,w,g),this.classList.add("sort__item--active"),y.classList.remove("sort__item--active")})),y.addEventListener("click",(function(){q(L,w,g),this.classList.add("sort__item--active"),p.classList.remove("sort__item--active")}))}));